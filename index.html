<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Doctor Adventure Game</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</head>
<body>
    <div id="root"></div>
    
    <script type="text/babel">
        const { useState, useEffect } = React;
        const Heart = () => <span>â¤ï¸</span>;
        
        function MedicalGame() {
            const [gameState, setGameState] = useState('menu');
            const [currentCase, setCurrentCase] = useState(null);
            const [score, setScore] = useState(0);
            const [hearts, setHearts] = useState(5);
            const [streak, setStreak] = useState(0);
            const [coins, setCoins] = useState(0);
            const [level, setLevel] = useState(1);
            const [feedback, setFeedback] = useState('');
            const [selectedAnswer, setSelectedAnswer] = useState(null);
            const [soundEnabled, setSoundEnabled] = useState(true);

            const playSound = (freq, dur) => {
                if (!soundEnabled) return;
                try {
                    const ctx = new (window.AudioContext || window.webkitAudioContext)();
                    const osc = ctx.createOscillator();
                    const gain = ctx.createGain();
                    osc.connect(gain);
                    gain.connect(ctx.destination);
                    osc.frequency.value = freq;
                    gain.gain.setValueAtTime(0.3, ctx.currentTime);
                    gain.gain.exponentialRampToValueAtTime(0.01, ctx.currentTime + dur);
                    osc.start();
                    osc.stop(ctx.currentTime + dur);
                } catch(e) {}
            };

            const cases = [
                {
                    character: "ğŸ‘§", name: "Mia, Age 8", 
                    bg: "bg-gradient-to-br from-pink-300 to-rose-300",
                    symptoms: ["Fever", "Sore throat", "White spots", "Swollen glands"],
                    correct: "Strep Throat",
                    options: ["Common Cold", "Strep Throat", "Allergies", "Flu"],
                    exp: "Strep needs antibiotics!", coins: 50
                },
                {
                    character: "ğŸ‘¦", name: "Jake, Age 12",
                    bg: "bg-gradient-to-br from-blue-300 to-cyan-300",
                    symptoms: ["Dizzy", "Hungry", "Shaky", "Weak"],
                    correct: "Low Blood Sugar",
                    options: ["Concussion", "Low Blood Sugar", "Dehydration", "Heat Stroke"],
                    exp: "Needs juice fast!", coins: 50
                },
                {
                    character: "ğŸ‘´", name: "Mr. Johnson, 65",
                    bg: "bg-gradient-to-br from-red-300 to-orange-300",
                    symptoms: ["Chest pain", "Arm numb", "Can't breathe", "Sweating"],
                    correct: "Heart Attack",
                    options: ["Panic Attack", "Heart Attack", "Heartburn", "Muscle Pain"],
                    exp: "You saved his life!", coins: 100
                },
                {
                    character: "ğŸ¶", name: "Max (Dog)",
                    bg: "bg-gradient-to-br from-green-300 to-emerald-300",
                    symptoms: ["Won't eat", "Limping", "Whining", "Licking paw"],
                    correct: "Injured Paw",
                    options: ["Tired", "Injured Paw", "Needs Walk", "Hungry"],
                    exp: "Pets need care too!", coins: 60
                }
            ];

            const loadCase = () => {
                if (level - 1 < cases.length) {
                    setCurrentCase(cases[level - 1]);
                    setSelectedAnswer(null);
                    setFeedback('');
                } else {
                    setGameState('victory');
                }
            };

            const handleAnswer = (answer) => {
                playSound(400, 0.05);
                setSelectedAnswer(answer);
                
                if (answer === currentCase.correct) {
                    playSound(523, 0.1);
                    setTimeout(() => playSound(659, 0.1), 100);
                    const newStreak = streak + 1;
                    setStreak(newStreak);
                    setScore(score + 100 * newStreak);
                    setCoins(coins + currentCase.coins);
                    setFeedback('correct');
                } else {
                    playSound(200, 0.3);
                    setHearts(hearts - 1);
                    setStreak(0);
                    setFeedback('incorrect');
                    if (hearts - 1 <= 0) {
                        setTimeout(() => setGameState('gameover'), 2000);
                    }
                }
            };

            if (gameState === 'menu') {
                return (
                    <div className="min-h-screen bg-gradient-to-br from-cyan-400 via-blue-500 to-purple-600 flex items-center justify-center p-4">
                        <div className="bg-white rounded-3xl shadow-2xl p-8 max-w-2xl w-full">
                            <div className="text-center mb-8">
                                <div className="text-8xl mb-4">ğŸ¥</div>
                                <h1 className="text-6xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-2">
                                    Doctor Adventure
                                </h1>
                                <p className="text-blue-600 text-2xl font-bold">Save lives!</p>
                            </div>
                            
                            <button
                                onClick={() => setSoundEnabled(!soundEnabled)}
                                className={`w-full mb-4 px-6 py-3 rounded-full font-bold ${soundEnabled ? 'bg-green-500' : 'bg-gray-400'} text-white`}
                            >
                                {soundEnabled ? 'ğŸ”Š Sound ON' : 'ğŸ”‡ Sound OFF'}
                            </button>

                            <button
                                onClick={() => {
                                    playSound(400, 0.05);
                                    setHearts(5);
                                    setScore(0);
                                    setCoins(0);
                                    setStreak(0);
                                    setLevel(1);
                                    loadCase();
                                    setGameState('playing');
                                }}
                                className="w-full bg-gradient-to-r from-blue-500 to-purple-500 text-white p-6 rounded-2xl text-3xl font-bold hover:scale-105 transition-all"
                            >
                                â–¶ï¸ Start Game
                            </button>
                            
                            <div className="mt-6 bg-yellow-100 p-4 rounded-xl text-center">
                                <p className="text-2xl font-bold text-orange-700">ğŸ’° {coins} Coins</p>
                            </div>
                        </div>
                    </div>
                );
            }

            if (gameState === 'playing' && currentCase) {
                return (
                    <div className={`min-h-screen ${currentCase.bg} p-4 py-8`}>
                        <div className="max-w-4xl mx-auto">
                            <div className="bg-white rounded-3xl shadow-2xl p-8">
                                <div className="flex justify-between items-center mb-6">
                                    <div className="flex gap-1">
                                        {[...Array(5)].map((_, i) => (
                                            <span key={i} className="text-2xl">{i < hearts ? 'â¤ï¸' : 'ğŸ–¤'}</span>
                                        ))}
                                    </div>
                                    <div className="flex gap-3">
                                        <div className="bg-yellow-100 px-4 py-2 rounded-full">
                                            <span className="font-bold">ğŸ’° {coins}</span>
                                        </div>
                                        <div className="bg-purple-100 px-4 py-2 rounded-full">
                                            <span className="font-bold">Level {level}</span>
                                        </div>
                                    </div>
                                </div>

                                {streak > 0 && (
                                    <div className="text-center mb-4">
                                        <div className="inline-block bg-orange-500 text-white px-6 py-2 rounded-full font-bold">
                                            ğŸ”¥ {streak} Streak!
                                        </div>
                                    </div>
                                )}

                                <div className="bg-blue-50 p-6 rounded-2xl mb-6">
                                    <div className="flex items-center gap-4 mb-4">
                                        <div className="text-7xl">{currentCase.character}</div>
                                        <h2 className="text-3xl font-bold">{currentCase.name}</h2>
                                    </div>
                                    <div className="bg-white p-4 rounded-xl">
                                        <p className="font-bold mb-2">Symptoms:</p>
                                        <div className="grid grid-cols-
